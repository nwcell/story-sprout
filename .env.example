# =============================================================================
# Story Sprout Environment Configuration
# Copy this file to .env and customize the values for your environment
# =============================================================================

# =============================================================================
# CORE SETTINGS
# =============================================================================

# REQUIRED: Django secret key for cryptographic signing
# Generate a new one: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-super-secret-key-here

# Environment: dev, test, prod (determines which overlay to load)
DJANGO_ENV=dev

# Debug mode (true/false) - automatically handled by environment overlays
# DEBUG=false

# =============================================================================
# SECURITY SETTINGS  
# =============================================================================

# Allowed hosts (comma-separated, no spaces)
# Example: ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com
ALLOWED_HOSTS=

# CSRF trusted origins (comma-separated, no spaces)
# Example: CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=

# Development-only: Additional CSRF origins for local dev (comma-separated)
# Example: DEV_CSRF_TRUSTED_ORIGINS=http://mydev.local:8000,https://ngrok-tunnel.com
DEV_CSRF_TRUSTED_ORIGINS=

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database (leave empty to use SQLite for development)
DB_ENGINE=django.db.backends.postgresql
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=5432

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Email backend (leave empty for Django default)
# Development: django.core.mail.backends.console.EmailBackend
# Production: django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=

# SMTP Configuration (only needed if using SMTP backend)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# =============================================================================
# USER AUTHENTICATION
# =============================================================================

# Django Sites Framework ID
SITE_ID=1

# Email verification: none, optional, mandatory
ACCOUNT_EMAIL_VERIFICATION=mandatory

# =============================================================================
# STRIPE PAYMENTS
# =============================================================================

# Stripe API Keys (get from https://dashboard.stripe.com/apikeys)
STRIPE_PUBLIC_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...

# =============================================================================
# AI INTEGRATION
# =============================================================================

# OpenAI API Key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-...

# =============================================================================
# CELERY (BACKGROUND TASKS)
# =============================================================================

# Celery Broker URL (Redis recommended)
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery Result Backend
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# CACHING & REDIS
# =============================================================================

# Cache backend for development: locmem (default) or redis
CACHE_BACKEND=locmem

# Redis Cache URL (if using Redis for caching)
REDIS_CACHE_URL=redis://127.0.0.1:6379/1

# =============================================================================
# SERVER-SENT EVENTS (SSE)
# =============================================================================

# EventStream Redis Configuration
# Option 1: Full Redis URL
EVENTSTREAM_REDIS_URL=redis://localhost:6379/2

# Option 2: Alternative Redis URL format
REDIS_URL=redis://localhost:6379/2

# Option 3: Individual Redis components
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=2

# =============================================================================
# DEPLOYMENT & INFRASTRUCTURE
# =============================================================================

# Static files (production)
# STATIC_ROOT=/var/www/static/
# MEDIA_ROOT=/var/www/media/

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# LOG_LEVEL=INFO

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# These variables are primarily used in development environments
# and may override base settings when DJANGO_ENV=dev

# Custom development domains for CSRF (comma-separated)
# DEV_CSRF_TRUSTED_ORIGINS=http://mydev.local:8000,https://ngrok-tunnel.com

# Force Redis cache in development (normally uses in-memory)
# CACHE_BACKEND=redis

# Override default Celery URLs for development
# CELERY_BROKER_URL=redis://custom-redis:6379/5
# CELERY_RESULT_BACKEND=redis://custom-redis:6379/5

# =============================================================================
# EXAMPLE CONFIGURATIONS
# =============================================================================

# Local Development Example:
# SECRET_KEY=django-insecure-example-key-for-development
# DJANGO_ENV=dev
# DEBUG=true
# ALLOWED_HOSTS=localhost,127.0.0.1
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# Production Example:
# SECRET_KEY=your-production-secret-key
# DJANGO_ENV=prod
# DEBUG=false
# ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
# CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# DB_NAME=storysprout_prod
# DB_USER=storysprout
# DB_PASSWORD=secure-password
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# REDIS_CACHE_URL=redis://redis-server:6379/1
