[aria-busy="true"] {
    position: relative;
    animation: hx-pulse-busy 2s ease-in-out infinite;
}

/* For non-input elements that support pseudo-elements */
div[aria-busy="true"]::after,
textarea[aria-busy="true"]::after,
section[aria-busy="true"]::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: rgb(196 181 253);
    pointer-events: none;
    animation: hx-pulse-bg 2s ease-in-out infinite;
}

/* brief error flash */
[data-busy-error] {
    position: relative;
    border: 2px solid rgb(248 113 113);
    background: rgb(254 202 202 / 0.3);
}

div[data-busy-error]::after,
textarea[data-busy-error]::after,
section[data-busy-error]::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: rgb(254 202 202 / 0.55);
    pointer-events: none;
}

@keyframes hx-pulse-busy {
    0%, 100% {
        border-color: rgb(167 139 250 / 0.5);
        background-color: rgb(196 181 253 / 0.10);
    }

    50% {
        border-color: rgb(167 139 250 / 1.0);
        background-color: rgb(196 181 253 / 0.35);
    }
}

@keyframes hx-pulse-bg {
    0%, 100% {
        opacity: 0.10;
    }

    50% {
        opacity: 0.16;
    }
}

/* HTMX swap animations */
.htmx-fade.htmx-swapping {
    opacity: 0;
    transition: opacity .5s ease-in-out;
}

.htmx-fade.htmx-added {
    opacity: 0;
}

.htmx-fade {
    opacity: 1;
    transition: opacity .5s ease-out;
}

/* Disabled button styles */
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}
