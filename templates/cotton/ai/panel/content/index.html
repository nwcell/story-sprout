<c-vars prompt="What would you like to do?"
        :chips="[
                  {'emoji': '✍️', 'color': 'emerald', 'text': 'Draft a Title!'},
                  {'emoji': '🗞', 'color': 'amber', 'text': 'Outline story!'},
                  {'emoji': '🌮', 'color': 'neutral', 'text': 'Taco'},
        ]"
        :freeform=False
        freeform_text="Write my own"
        input_placeholder="Enter your text here"
        submit_text="Submit" />


<div id="ai-panel-content"
     x-data="{ showFreeform: false, aiPanelChip: '', freeformText: '' }"
     x-effect="showFreeform = (aiPanelChip === 'freeform')">
  <c-ai.panel.content.prompt_row :prompt=prompt />
  <c-ai.panel.content.chip_row :chips=chips :freeform=freeform x-show="!showFreeform" freeform_text={{ freeform_text }} />
  {% if freeform %}
    <div id="ai-panel-text-input"
         x-show="showFreeform"
         x-effect="if (showFreeform) setTimeout(() => $el.querySelector('textarea')?.focus(), 100)"
         class="p-2 flex items-center space-x-2">
      <c-button icon="chevron-left" class="text-gray-600 hover:text-gray-800" @click="aiPanelChip = ''" />
      <c-fields.textarea type="text" name="ai-panel-text" placeholder="{{ input_placeholder }}" :hide_border=False x-model="freeformText" />
    </div>
  {% endif %}
  <div id="ai-panel-submit" class="p-2">
    <c-button icon="paper-plane"
              class="w-full"
              x-bind:disabled="!((aiPanelChip && aiPanelChip !== 'freeform') || (aiPanelChip === 'freeform' && freeformText.trim().length > 0))"
              x-bind:class="{ 'opacity-50 cursor-not-allowed': !((aiPanelChip && aiPanelChip !== 'freeform') || (aiPanelChip === 'freeform' && freeformText.trim().length > 0)) }">{{ submit_text }}</c-button>
  </div>
</div>
